<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="./style.css" />
  <link rel="stylesheet" href="./linter/styles/codepen-embed.css" />
  <link rel="icon" href="img/code3.jpg">
  <title>ECX CORE API</title>

</head>

<body>
  <div class="container">
    <header class="header">
      <img src="img/api1.png">
      <div class="logo">
        <h1>30 DAYS OF coding Backend API</h1>
      </div>
      <img src="img/code3.jpg">
    </header>
    <section class="dashboard">
      <div class="side">
        <nav>
          <ul>
            <li>Signup requests</li>
            <li>Login reuest</li>
            <li>Update requests</li>
            <li>Delete requests</li>
            <li>protected Route requests</li>
            <li>getUsers requests</li>
          </ul>
        </nav>
      </div>

      <div class="view">
        <div class="infoContainer">
          <div class="infobox">
            <div class="request">
              <h2>GET All USERS</h2>
              <p><span>/GET/ </span> /api/users</p>
              <p>description</p>
              <p>this endpoint fetches all available users from database</p>
              <a href="#"> try it <i></i></a>
            </div>
            <div class="response">
              <div class="responseview">
                <pre>
      <code class="javascript">
{
  "success": true,
  "users": [
      {
          "names": [],
          "occupation": "not stated",
          "lastLogin": "never",
          "_id": "5e9a8b28ca40653048e5e5a1",
          "name": "mulansu",
          "email": "lizzy@gmail.com",
          "phonenumber":"08034267"
          "amount":50000
          "date": "18-4-2020",
          "time": "6:07:52 AM",
          "__v": 1
      },
      ...
  ]
}                
      </code>
</pre>
              </div>

            </div>
          </div>
          <!-- ENDPOINT get all! -->
          <div class="infobox">
            <div class="request">
              <h2>GET USER BY ID(params)</h2>
              <p><span>/GET/ </span>/api/users/getuser/:id</p>
              <p>description</p>
              <p>this endpoint fetches a user withfrom database</p>
              <a href="#"> try it <i></i></a>
            </div>
            <div class="response">
              <pre>
            <code class="javascript">
{
  "success": true,
  "users": [
      {
          "lastLogin": "never",
          "_id": "5e9a8b28ca40653048e5e5a1",
          "name": "mulansu",
          "email": "lizzy@gmail.com",
          "phone":"0803456790"
          "amount":50000
          "date": "18-4-2020",
          "time": "6:07:52 AM",
          "__v": 1
      },
      ...
  ]
}                
      </code>
                </pre>
            </div>
          </div>
          <!-- ENDPOINT ! getby id -->

          <div class="infobox">
            <div class="request">
              <h2>USER SIGNUP(params)</h2>
              <p><span>/POST/ </span>/api/users/signup</p>
              <p>description</p>
              <p>this endpoint register a new user</p>
              <a href="#"> try it <i></i></a>
            </div>
            <div class="response">

              <pre>
          <code class="javascript">
//REQUEST BODY 
{
  "username":"tega",
  "email":"tegan@gmail.com",
  "password":"12345",
  "phonenumber":"0806789678",
  "pin":"1234"
 }
//RESPONSE BODY          
{
  "success": "true",
  "message": "Account has been succesfully registered"
}

</code>
      </pre>
            </div>
          </div>
          <!-- ENDPOINT ! user sign up -->

          <div class="infobox">
            <div class="request">
              <h2> USER Login (params)</h2>
              <p><span>/POST/ </span>/api/users/login</p>
              <p>description</p>
              <p>this endpoint logs in a user and generates a session token</p>
              <a href="#"> try it <i></i></a>
            </div>
            <div class="response">
              <pre>
               <code class="javascript">
/* REQUEST BODY note login can either be email or username */
{ 
  "email":"tegan@gmail.com",
  "password":"12345"
 }
/******* RESPONSE ********/
{
    "AUTH": "true",
    "token": "a user generated token will be here"
    "message": "you have been succesfully logged in"
}

               </code>
          </pre>
            </div>
          </div>
          <!-- ENDPOINT ! user login-->

          <div class="infobox">
            <div class="request">
              <h2>UPDATE USER BY ID(params)</h2>
              <p><span>/PUT/ </span>/api/users/update/:id</p>
              <p>description</p>
              <p> Authentication is required by login token</p>
              <p>this endpoint updates the info of an existing user user</p>
              <a href="#"> try it <i></i></a>
            </div>
            <div class="response">

              <pre>
          <code class="javascript">
//REQUEST BODY 
 {       
        "LoginEmail":"tegan@gmail.com"
        //user info you want to update
        "usernames": String,
        "email":String,
        "occupation": String,
        "password":String,
        "phonenumber":"phonenumber"
 },
//RESPONSE BODY          
{
"success": true,
"users": [
    {
        "lastLogin": "never",
        "_id": "5e9a8b28ca40653048e5e5a1",
        "name": "mulansu",
        "email": "lizzy@gmail.com",
        "password":"hashed password",
        "pin":"hashed pin"
        "date": "18-4-2020",
        "time": "6:07:52 AM",
        "__v": 1
    },
    ...
]
}                
</code>
      </pre>
            </div>
          </div>
          <!-- ENDPOINT ! update by id-->


          <div class="infobox">
            <div class="request">
              <h2> DELETE USER BY ID (params)</h2>
              <p><span>/DELETE/ </span>/api/users/delete/:id</p>
              <p> Authentication is required by login token</p>
              <p>description</p>
              <p>this endpoint deletes or removes an exisiting user</p>
              <a href="#"> try it <i></i></a>
            </div>
            <div class="response">
              <pre>
               <code class="javascript">

/******* RESPONSE ********/
{
  "success": true,
  "message": "user mulan was deleted successfully"
}

               </code>
          </pre>
            </div>
          </div>
          <!-- ENDPOINT ! delete by id -->

          <div class="infobox">
            <div class="request">
              <h2>Protected USER PROFILE</h2>
              <p><span>/GET/ </span>/api/users/me/profile</p>
              <p> Authentication is required by login token</p>
              <p>description</p>
              <p>this allows a user with only a valid token to see all user details
                token is the header Authentication, prefix with a bearer
              </p>
              <a href="#"> try it <i></i></a>
            </div>
            <div class="response">

              <pre>
          <code class="javascript">
//REQUEST BODY 
{
  "LoginEmail":"lizzy@gmail.com"
 }
//RESPONSE BODY          
{
  {
    "success": true,
    "user": {
        "isAdmin": 0,
        "lastLogin": "20-4-2020-2:24:05 AM",
        "tokenLife": 600,
        "amount": 9000,
        "transactionLogs": [
            {
                "Date": "4/20/2020, 2:19:25 AM",
                "type": "credit",
                "amount": 4000,
                "status": "succesfull",
                "sender": "0806789345",
                "info": "recieved"
            }
        ],
        "_id": "5e9cf8406ce9ea1964e2218b",
        "name": "tega",
        "email": "tegan@gmail.com",
        "password": "hashed",
        "signedUp_at": "2020-04-20T01:17:52.000Z",
        "transactionPin": "hashed",
        "phonenumber": "0806789678",
        "tokens": [
            {token: "hashed token"}
        ],
        "__v": 3
    }
}
}             
</code>
      </pre>
            </div>
          </div>
          <!-- ENDPOINT ! protected user profile -->
          <div class="infobox">
            <div class="request">
              <h2>transfer fund</h2>
              <p><span>/post/ </span>/api/users/me/transferFunds</p>
              <p>description</p>
              <p>this endpoint carries out fund transfer</p>
              <p>Authentication by login token required</p>
              <a href="#"> try it <i></i></a>
            </div>
            <div class="response">
              <pre>
               <code class="javascript">
  //REQUEST BODY

{
  "LoginEmail":"tegan@gmail.com",
  "phonenumber":"0806789345"//person you want to send money to ,
  "pin":"1234" //your transaction pin,
  "amount":4000 //amount to send
  }
//RESPONSE BODY
{
  "success": true,
  "message": "transction was succesfull"
}
 
               </code>
          </pre>
            </div>
          </div>
          <!-- ENDPOINT ! transaction -->

         <div class="infobox">
          <div class="request">
            <h2> get Transaction History</h2>
            <p><span>/post/ </span>/api/users/me/getUserTransactions</p>
            <p>description</p>
            <p>this endpoint shows transaction history of the autorised user or user to admin</p>
            <p>Authentication by login token required</p>
            <a href="#"> try it <i></i></a>
          </div>
          <div class="response">
            <pre>
             <code class="javascript">
//REQUEST BODY
  
{
"LoginEmail":"tegan@gmail.com",
}
//RESPONSE BODY
{
  "success": true,
  "transactionHistory": [
      {
          "Date": "4/20/2020, 2:27:17 AM",
          "type": "debit",
          "amount": 4000,
          "recipient": "0806789345",
          "status": "succesfull",
          "info": "sent"
      },
      {
          "Date": "4/20/2020, 2:19:25 AM",
          "type": "credit",
          "amount": 4000,
          "status": "succesfull",
          "sender": "0806789345",
          "info": "recieved"
      }
  ]
}

             </code>
        </pre>
          </div>
        </div>
        <!-- ENDPOINT ! history -->




          <div class="infobox">
            <div class="request">
              <h2> get LOGS</h2>
              <p><span>/GET/ </span>/api/logs</p>
              <p>description</p>
              <p>this endpoint get all request logs in the log file</p>
              <a href="#"> try it <i></i></a>
            </div>
            <div class="response">
              <pre>
               <code class="plaintext">
/******* RESPONSE ********/
POST /api/users/signup 200 273.418 ms
POST /api/users/login 200 379.585 ms
GET /api/user/me/profile 401 36.424 ms
PUT /user/update/5e9612c922d3951d7464e39b 404 2.750 ms
DELETE /api/user/delete/5e9612c922d3951d7464e39b 200 45.064 ms
GET /api/logs 200 8.958 ms
               </code>
          </pre>
            </div>
          </div>
          <!-- ENDPOINT ! logs -->


        </div>
      </div>
    </section>
  </div>
  <script src="linter/highlight.pack.js"></script>
  <script>
    hljs.initHighlightingOnLoad();
  </script>
</body>

</html>